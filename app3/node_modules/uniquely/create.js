'use strict';
var now = require('microseconds/now').default;
var createIterator = require('es6-util/iterator/create').default;
exports.default = function create(chars) {
  var length = chars.length;
  var id = function (i) {
    return i < length ? chars[i] : id(Math.floor(i / length) - 1) + chars[i % length];
  };
  var random = function (n) {
    if (n === void 0)
      n = 1;
    var string = '';
    for (var i = 0; i < n; i++) {
      string += id(Math.floor(Math.random() * length));
    }
    return string;
  };
  var time = function () {
    return id(now());
  };
  var next = function () {
    var i = 0;
    return function () {
      return {
        value: id(i++),
        done: false
      };
    };
  };
  var iterator = function () {
    return createIterator(next());
  };
  return {
    id: id,
    random: random,
    time: time,
    iterator: iterator
  };
};